<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SENDIX â€” Nexo + Chat + Tracking</title>
  <link rel="stylesheet" href="styles.css"/>
  <link rel="icon" href="assets/logo.png">
</head>
<body>
  <!-- HEADER full-width con contenedor interno -->
  <header class="topbar">
    <div class="topbar-inner">
      <div class="brand brand-left" style="margin-left:0;">
        <img src="assets/logo.png" class="logo" alt="SENDIX"/>
        <div>
          <h1 class="app-name">SENDIX</h1>
          <p class="tagline">Movemos tu mundo</p>
        </div>
      </div>
      <div class="topbar-actions" style="margin-left:auto; margin-right:0;">
        <div id="user-badge" class="user-badge"></div>
      </div>
    </div>
  </header>

  <!-- Contenedor principal de la app -->
  <div id="app">
    <main id="view-container">
      <!-- Vista: LOGIN -->
      <section data-route="login" class="view active">
        <div class="login-box shadow-lg">
          <div class="login-avatar">
            <img src="assets/logo.png" alt="Logo SENDIX" />
          </div>
          <h2 class="login-title">Bienvenido a <span style="color:var(--accent)">SENDIX</span></h2>
          <p class="login-desc">La app que agiliza, resuelve y conecta a empresas con transportistas.<br><span class="muted">Simple, rÃ¡pida y segura.</span></p>
          <form id="login-form" class="form login-form" autocomplete="off">
            <label><span>ğŸ‘¤</span> Tu nombre
              <input name="name" placeholder="Ej: Carla / Nexo SENDIX" required/>
            </label>
            <fieldset class="roles">
              <legend>Rol</legend>
              <label class="radio"><input type="radio" name="role" value="empresa" checked/> Empresa</label>
              <label class="radio"><input type="radio" name="role" value="transportista"/> Transportista</label>
              <label class="radio"><input type="radio" name="role" value="sendix"/> SENDIX </label>
            </fieldset>
            <button class="btn btn-primary login-btn" type="submit">Entrar</button>
          </form>
        </div>
      </section>

      <!-- Vista: HOME -->
      <section data-route="home" class="view">
        <div class="hero hero-main shadow-md">
          <h2 class="hero-title">PublicÃ¡, postulÃ¡ o moderÃ¡ ofertas</h2>
          <p class="muted hero-desc">ChateÃ¡ y coordinÃ¡ cuando haya match.<br><span style="color:var(--accent)">MÃ¡s carga, menos gestiÃ³n, mÃ¡s rÃ¡pido, menos costos.</span></p>
          <button class="btn btn-primary hero-btn" id="btn-start">Empezar</button>
        </div>

        <!-- Tarjetas EMPRESA -->
        <div id="cards-empresa" class="cards">
          <div class="card">
            <h3>Publicar carga</h3>
            <button class="btn btn-ghost" data-nav="publicar">Ir</button>
          </div>
          <div class="card">
            <h3>Mis cargas</h3>
            <button class="btn btn-ghost" data-nav="mis-cargas">Ir</button>
          </div>
          <div class="card">
            <h3>EnvÃ­o en curso</h3>
            <p>Ver estado de tus envÃ­os aprobados.</p>
            <button class="btn btn-ghost" data-nav="tracking">Abrir</button>
          </div>
        </div>

        <!-- Tarjetas TRANSPORTISTA -->
        <div id="cards-transportista" class="cards">
          <div class="card">
            <h3>Ofertas disponibles</h3>
            <button class="btn btn-ghost" data-nav="ofertas">Ver</button>
          </div>
          <div class="card">
            <h3>Mis postulaciones</h3>
            <button class="btn btn-ghost" data-nav="mis-postulaciones">Ver</button>
          </div>
          <div class="card">
            <h3>Mis envÃ­os</h3>
            <p>GestionÃ¡ estado por cada envÃ­o aprobado.</p>
            <button class="btn btn-ghost" data-nav="mis-envios">Abrir</button>
          </div>
          <div class="card">
            <h3>EnvÃ­o en curso</h3>
            <p>ActualizÃ¡ estado desde acÃ¡ tambiÃ©n.</p>
            <button class="btn btn-ghost" data-nav="tracking">Abrir</button>
          </div>
        </div>

        <!-- Tarjetas SENDIX -->
        <div id="cards-sendix" class="cards">
          <div class="card">
            <h3>Bandeja de propuestas</h3>
            <p>Filtrar propuestas y derivar a la empresa.</p>
            <button class="btn btn-ghost" data-nav="moderacion">Abrir</button>
          </div>
          <div class="card">
            <h3>Conversaciones</h3>
            <p>Acceso rÃ¡pido a chats aprobados.</p>
            <button class="btn btn-ghost" data-nav="conversaciones">Abrir</button>
          </div>
          <div class="card">
            <h3>Resumen</h3>
            <button class="btn btn-ghost" data-nav="resumen">Ver</button>
          </div>
        </div>
      </section>

      <!-- Resto de vistas (publicar, mis-cargas, ofertas, etc.) -->
      <section data-route="publicar" class="view">
        <div class="publish-box shadow-lg">
          <h2 class="publish-title">Publicar nueva carga</h2>
          <form id="publish-form" class="form publish-form" autocomplete="off">
            <label><span>ğŸ“</span> Origen
              <input name="origen" id="input-origen" placeholder="Origen" required autocomplete="off" />
            </label>
            <label><span>ğŸ¯</span> Destino
              <input name="destino" id="input-destino" placeholder="Destino" required autocomplete="off" />
            </label>
            <label><span>ğŸ“¦</span> Tipo
              <input name="tipo" placeholder="Palets, a granel..." required/>
            </label>
            <label><span>ğŸ“</span> TamaÃ±o
              <input name="tamano" placeholder="Ej: 10 pallets / 20 mÂ³ / 8 tn" required/>
            </label>
            <label><span>ğŸ“…</span> Fecha
              <input type="date" name="fecha" required/>
            </label>
            <div id="publish-preview" class="publish-preview"></div>
            <button class="btn btn-primary publish-btn" type="submit">Publicar carga</button>
          </form>
        </div>
        <h3 class="mt">Tus publicaciones</h3>
        <ul id="loads-list" class="list"></ul>
      </section>

      <section data-route="mis-cargas" class="view">
  <h2 class="section-title">Mis cargas y propuestas <span class="badge">filtradas por SENDIX</span></h2>
        <ul id="my-loads-with-proposals" class="list"></ul>
      </section>

      <section data-route="ofertas" class="view">
  <h2 class="section-title">Ofertas disponibles <span class="badge">para transportistas</span></h2>
        <ul id="offers-list" class="list"></ul>
      </section>

      <section data-route="mis-postulaciones" class="view">
  <h2 class="section-title">Mis postulaciones <span class="badge">historial</span></h2>
        <ul id="my-proposals" class="list"></ul>
      </section>

      <section data-route="mis-envios" class="view">
  <h2 class="section-title">Mis envÃ­os <span class="badge">aprobados</span></h2>
        <ul id="shipments" class="list"></ul>
      </section>

      <section data-route="moderacion" class="view">
  <h2 class="section-title">Bandeja de propuestas <span class="badge">moderaciÃ³n</span></h2>
        <ul id="inbox" class="list"></ul>
      </section>

      <section data-route="conversaciones" class="view">
  <div class="chat-wrapper shadow-md">
          <aside class="chat-sidebar">
            <div class="chat-sidebar-header">
              <h2>Chats</h2>
              <input id="chat-search" placeholder="Buscarâ€¦" />
            </div>
            <ul id="threads" class="thread-list"></ul>
          </aside>
          <section class="chat-main">
            <div class="chat-main-header">
              <div>
                <h3 id="chat-title">ElegÃ­ una conversaciÃ³n</h3>
                <p class="muted" id="chat-topic"></p>
              </div>
              <div class="chat-main-actions">
                <button class="btn" id="open-related-tracking">Ver envÃ­o</button>
              </div>
            </div>
            <div id="chat-box" class="chat-box big"></div>
            <form id="chat-form" class="chat-input">
              <input name="message" placeholder="EscribÃ­ un mensajeâ€¦" required/>
              <button class="btn btn-primary" type="submit">Enviar</button>
            </form>
          </section>
        </div>
      </section>

      <section data-route="resumen" class="view">
  <h2 class="section-title">Resumen <span class="badge">demo</span></h2>
        <ul class="list">
          <li class="row"><span>Publicaciones activas</span><strong id="m-total-loads">0</strong></li>
          <li class="row"><span>Postulaciones totales</span><strong id="m-total-proposals">0</strong></li>
          <li class="row"><span>Filtradas</span><strong id="m-filtered">0</strong></li>
          <li class="row"><span>Aprobadas</span><strong id="m-approved">0</strong></li>
          <li class="row"><span>Rechazadas</span><strong id="m-rejected">0</strong></li>
          <li class="row"><span>En revisiÃ³n</span><strong id="m-pending">0</strong></li>
        </ul>
      </section>

      <section data-route="tracking" class="view">
  <h2 class="section-title">EnvÃ­o en curso <span class="badge">demo global</span></h2>
        <div class="row">
          <label class="row" style="gap:6px; align-items:center">
            <input type="checkbox" id="tracking-only-active" checked/>
            <span class="muted">Solo activos</span>
          </label>
          <input id="tracking-search" placeholder="Buscar envÃ­oâ€¦" />
          <span id="tracking-role-hint" class="muted"></span>
        </div>
        <ul id="tracking-list" class="list"></ul>
        <div class="map-box" style="width:100%;max-width:700px;margin:32px auto 24px auto;position:relative;">
          <div id="tracking-map" style="width:100%;height:180px;"></div>
        </div>
        <div class="actions" id="tracking-actions">
          <button class="btn" data-advance>Avanzar estado</button>
          <button class="btn btn-ghost" data-reset>Reiniciar</button>
          <button class="btn" id="tracking-open-chat">Abrir chat</button>
        </div>
  <!-- AnimaciÃ³n SVG, no mapa real -->
      </section>
    </main>

    <!-- Bottom navs -->
    <nav class="bottombar" id="nav-empresa">
      <button class="tab" data-nav="home">ğŸ </button>
      <button class="tab" data-nav="publicar">ğŸ“</button>
      <button class="tab" data-nav="mis-cargas">ğŸ“¦</button>
      <button class="tab" data-nav="conversaciones">ğŸ’¬</button>
      <button class="tab" data-nav="tracking">ğŸ§­</button>
    </nav>

    <nav class="bottombar" id="nav-transportista">
      <button class="tab" data-nav="home">ğŸ </button>
      <button class="tab" data-nav="ofertas">ğŸ”</button>
      <button class="tab" data-nav="mis-postulaciones">ğŸ“¨</button>
      <button class="tab" data-nav="mis-envios">ğŸšš</button>
      <button class="tab" data-nav="conversaciones">ğŸ’¬</button>
      <button class="tab" data-nav="tracking">ğŸ§­</button>
    </nav>

    <nav class="bottombar" id="nav-sendix">
      <button class="tab" data-nav="home">ğŸ </button>
      <button class="tab" data-nav="moderacion">ğŸ—‚ï¸</button>
      <button class="tab" data-nav="conversaciones">ğŸ’¬ <span id="nav-unread" class="badge-pill" style="display:none">0</span></button>
      <button class="tab" data-nav="resumen">ğŸ“Š</button>
      <button class="tab" data-nav="tracking">ğŸ§­</button>
    </nav>
  </div>

  <script src="app.js"></script>
</body>
</html>
