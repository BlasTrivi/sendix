/* Limpieza: se removieron estilos de sugerencias (no se usan) */
/* =====================================================================
   SENDIX — styles.css (comentado)
   ---------------------------------------------------------------------
   - Diseño claro basado en la paleta del logo
   - Variables CSS para colores, sombras, radios y tokens reutilizables
   - Componentes principales: topbar, cards, botones, listas, chat, tracking y tabs
   ===================================================================== */

/* --------------------
   Paleta y design tokens
   -------------------- */
:root{
  /* Colores base (extraídos del logo) */
  --bg:#c0ced3;        /* Fondo general */
  --card:#ffffff;      /* Tarjetas / contenedores */
  --text:#0E2F44;      /* Azul oscuro del logo: color principal de texto */
  --muted:#5A6C79;     /* Texto secundario/desaturado */

  --primary:#0E2F44;   /* Primario (links, títulos, énfasis) */
  --secondary:#3AAFA9; /* Teal (botones principales, detalles fríos) */
  --accent:#F39200;    /* Naranja (llamados de atención, badges) */

  --border:#E3EDF2;    /* Bordes suaves */
  --success:#1B9E77;   /* Verde para estados OK */
  --danger:#D64545;    /* Rojo para estados críticos */

  /* Radio y sombras reusables */
  --radius: 18px;
  --radius-lg: 22px;
  --shadow-sm: 0 4px 12px rgba(14,47,68,.08);
  --shadow-md: 0 10px 28px rgba(14,47,68,.14);
  --shadow-lg: 0 24px 48px rgba(14,47,68,.18);
  --ring: 0 0 0 3px rgba(58,175,169,.25);
  /* Safe-area (para iPhone con notch) */
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  /* Altura actual de la barra inferior (dinámica por JS) */
  --bbar-h: 64px;
}
/* --------------------
   Mejoras visuales generales
   -------------------- */
.shadow-lg { box-shadow: 0 24px 48px rgba(14,47,68,.18)!important; }
.shadow-md { box-shadow: 0 10px 28px rgba(14,47,68,.14)!important; }
.shadow-sm { box-shadow: 0 4px 12px rgba(14,47,68,.08)!important; }

.hero-main {
  background: linear-gradient(120deg, #eef7f7 60%, #fff 100%);
  border-radius: var(--radius-lg);
  padding: 32px 24px 24px 24px;
  transition: box-shadow .18s, transform .18s;
}
.tracking-step { transition: fill 0.4s, stroke 0.4s; filter: drop-shadow(0 2px 8px #0001); }
.tracking-step.active { fill: var(--accent); stroke: var(--accent); }
.tracking-step.done { fill: var(--secondary); stroke: var(--secondary); }
#tracking-truck { transition: transform 0.4s; }
.card:hover {
  transform: translateY(-4px) scale(1.02);
  box-shadow: 0 18px 36px rgba(58,175,169,.18);
}

.chat-wrapper {
  border-radius: var(--radius-lg);
  background: #f8fcfd;
}

.list li {
  transition: box-shadow .15s, transform .15s;
}
.list li:hover {
  transform: scale(1.01);
  box-shadow: 0 8px 24px rgba(58,175,169,.10);
}

body, html {
  scroll-behavior: smooth;
}

@media (max-width: 600px) {
  .hero-main {
    padding: 16px 10px 14px 10px;
    font-size: 1rem;
  }
  .hero-title {
    font-size: 1.25rem;
  }
  .section-title {
    font-size: 1.05rem;
    gap: 6px;
  }
  .hero-btn { width: 100%; }
}

/* Reset mínimo y base tipográfica */
*{box-sizing:border-box}
html,body{height:100%; overflow:hidden}
body{
  margin:0;
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu;
  color:var(--text);
  background:
    radial-gradient(900px 400px at -10% 110%, rgba(58,175,169,.10), transparent 60%),
    radial-gradient(1200px 600px at 80% -10%, rgba(243,146,0,.12), transparent 60%),
    var(--bg);
}

/* Layout principal */
#app{display:flex; flex-direction:column; height:100vh; max-width:980px; margin:0 auto}

.brand{display:flex; gap:12px; align-items:center}
.logo{width:40px; height:40px; object-fit:contain; border-radius:8px; background:#fff}
.app-name{margin:0; font-size:28px; color:var(--primary)}
.tagline{margin:0; color:var(--accent); font-size:12px; font-weight:700}
.user-badge{color:var(--muted); font-size:14px}

/* Contenedor de vistas */
#view-container{flex:1; padding:18px; padding-bottom: calc(var(--bbar-h) + 98px + var(--safe-bottom)); overflow:auto}
/* En la vista de chat, evitamos scroll de la vista completa y lo dejamos al panel de mensajes */
.view.active[data-route="conversaciones"]{ overflow:hidden; display:flex; flex-direction:column; min-height:0; }
.view.active[data-route="conversaciones"] .chat-wrapper{ flex:1; min-height:0; display:grid; grid-template-columns: 320px 1fr; }
.chat-main{ display:flex; flex-direction:column; }
.chat-box.big{ flex:1; overflow:auto; }

/* Animación de vistas */
.view{display:none; animation:fade .15s ease-out}
.view.active{display:block}
@keyframes fade{from{opacity:0; transform:translateY(4px)} to{opacity:1; transform:none}}

/* --------------------
   Cards (tarjetas de home y list items)
   -------------------- */
.cards{display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:20px}
.card{
  background:var(--card);
  border:1px solid var(--border);
  color:var(--text);
  border-radius: var(--radius-lg);
  padding:16px;
  box-shadow: var(--shadow-sm); /* sombra leve */
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
  position: relative;
  cursor: pointer;
}
.card:hover{
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: rgba(58,175,169,.35);
}
.card:active{ transform: translateY(0); }
.card h3{ margin: 6px 0 6px 0; }
.card .card-desc{ margin: 0 0 10px 0; color: var(--muted); font-size: 0.95rem; }

/* --------------------
   Botones
   -------------------- */
.btn{
  border:1px solid var(--border); background:#fff; color:var(--primary);
  padding:12px 16px; border-radius:14px; cursor:pointer;
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease, border-color .15s ease;
  box-shadow: 0 1px 0 rgba(14,47,68,.05);
}
.btn:hover{ transform: translateY(-1px); box-shadow: var(--shadow-sm); }
.btn:active{ transform: translateY(0); box-shadow: 0 1px 0 rgba(14,47,68,.05); }
.btn-primary{
  background: linear-gradient(135deg, var(--accent), #ffae33);
  border: none; color:#fff; font-weight:700;
  box-shadow: 0 10px 20px rgba(243,146,0,.25);
}
.btn-primary:hover{ filter: brightness(1.02); }
.btn-primary:focus{ box-shadow: var(--ring); outline: none; }
.btn-ghost{ background:transparent }

/* --------------------
   Formularios e inputs
   -------------------- */
.form{display:grid; gap:12px; max-width:520px}
.form.small{max-width:420px}
.form input{padding:12px 14px; border-radius:12px; border:1px solid var(--border); background:#fff; color:var(--text)}
.form input::placeholder{color:#94a6b2}
.form input, .chat-input input, select, #chat-search{
  transition: box-shadow .15s ease, border-color .15s ease, background .15s ease;
  border-radius: 14px;
}
.form input:focus, .chat-input input:focus, select:focus, #chat-search:focus{
  outline: none; box-shadow: var(--ring); border-color: rgba(58,175,169,.45);
}
.roles{border:1px dashed var(--border); padding:10px; border-radius:12px}
.radio{display:block; margin:6px 0}

/* --------------------
   Listas
   -------------------- */
.list{list-style:none; padding:0; margin:8px 0; display:grid; gap:10px}
.list li{
  background:var(--card); border:1px solid var(--border); border-radius: var(--radius);
  padding:12px; color:var(--text); box-shadow: var(--shadow-sm);
}
.list li .title{font-weight:700; color:var(--primary)}
.list li .subtitle{color:var(--muted); font-size:13px}
.list li .chip{display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; background:#eef6f7; border:1px solid var(--border); color:var(--primary)}
.list li .chip.ok{background:#eafaf2; border-color:#d7f0e0; color:#15803d}
.list li .chip.warn{background:#fff5e6; border-color:#ffe6c2; color:#a15b00}
.list li:hover{ box-shadow: var(--shadow-md); }
.row{display:flex; justify-content:space-between; align-items:center; gap:8px; flex-wrap:wrap}
.badge{font-size:12px; padding:4px 8px; border-radius:999px; border:1px solid var(--border); color:#fff; background:var(--secondary)}
.badge-pill{display:inline-block; min-width:18px; padding:2px 6px; border-radius:999px; font-size:12px;
  background:var(--accent); color:#ffffff; font-weight:700; text-align:center;}

/* --------------------
   Chat
   -------------------- */
.chat-wrapper{display:grid; grid-template-columns: 320px 1fr; gap:16px; min-height: 520px; height: 100%; min-height: 0;}
.chat-sidebar{background:var(--card); border:1px solid var(--border); border-radius:var(--radius-lg); display:flex; flex-direction:column; box-shadow: var(--shadow-sm); height:100%; min-height:0}
.chat-sidebar-header{padding:12px; border-bottom:1px solid var(--border); display:grid; gap:8px}
.thread-list{list-style:none; margin:0; padding:0; overflow:auto; display:grid; gap:6px; flex:1; min-height:0}
.thread-item{display:flex; align-items:center; gap:12px; padding:12px; border:none; border-radius:14px; cursor:pointer; transition: background .15s ease}
.thread-item{ min-height: 48px; }
.thread-item:hover{background:#eef6f7}
.thread-title{font-weight:700; color:var(--primary)}
.thread-sub{color:var(--muted); font-size:12px}
.thread-badge{margin-left:auto}

.chat-main{background:var(--card); border:1px solid var(--border); border-radius:var(--radius-lg); display:flex; flex-direction:column; box-shadow: var(--shadow-sm); overflow:hidden; height: 100%; min-height:0}
.chat-main-header{padding:12px 16px; border-bottom:1px solid var(--border); display:flex; align-items:center; justify-content:space-between; position: sticky; top:0; background:var(--card); z-index:1}
.chat-box.big{min-height:360px; height: 100%; overflow:auto; padding:16px; padding-bottom: 120px; display:grid; gap:10px; background:#fbfdfe; border-radius:16px; box-shadow: inset 0 1px 0 rgba(14,47,68,.05)}
.bubble{max-width:70%; padding:10px 12px; border:1px solid var(--border); border-radius:14px; font-size:15px; line-height:1.3; position:relative; overflow-wrap:anywhere; word-break:break-word}
.bubble.me{margin-left:auto; background:#e3f3f1; border-color:#cceae7}
.bubble.other{margin-right:auto; background:#fff}
.bubble .bubble-reply{font-size:12px; color:var(--muted); padding:6px 8px; border-left:3px solid var(--secondary); margin:-6px -6px 6px -6px; background:#f4faf9; border-radius:10px}
.bubble .attachments{display:flex; gap:6px; flex-wrap:wrap; margin-top:6px}
.bubble .attachments img{max-width:160px; max-height:120px; border-radius:10px; border:1px solid var(--border)}
.reply-bar{display:flex; align-items:center; justify-content:space-between; gap:10px; padding:8px 12px; border-bottom:1px solid var(--border); background:#fff}
.reply-bar .reply-snippet{font-size:12px; color:var(--muted)}
.attach-previews{display:flex; gap:8px; padding:8px 12px; flex-wrap:wrap}
.attach-previews img{max-width:120px; max-height:96px; border-radius:10px; border:1px solid var(--border)}
.context-menu{position:absolute; background:#fff; border:1px solid var(--border); border-radius:8px; box-shadow: var(--shadow-sm); display:grid;}
.context-menu button{background:transparent; border:none; text-align:left; padding:8px 12px; cursor:pointer}
.context-menu button:hover{background:#f2f7f7}
.avatar{width:36px; height:36px; border-radius:999px; background:#e9f3f6; display:grid; place-items:center; font-weight:800; border:1px solid var(--border); color:var(--primary)}
.typing-indicator{ font-size:12px; color: var(--muted); padding: 4px 16px; }
.chat-input{display:flex; gap:8px; margin-top:auto; padding:12px; border-top:1px solid var(--border); background: #fff; position:sticky; bottom: 0; z-index: 2; box-shadow: 0 -6px 18px rgba(14,47,68,.06)}
.chat-input textarea{flex:1; padding:12px 14px; border-radius:12px; border:1px solid var(--border); background:#fff; color:var(--text); resize:none; max-height: 160px; min-height: 40px}
.chat-input textarea::placeholder{color:#94a6b2}
.chat-input #btn-attach{ border:1px solid var(--border); background:#fff; }
.chat-input .btn-primary{ box-shadow: 0 8px 18px rgba(243,146,0,.25); }

/* Scrollbar visible en escritorio para el chat */
.chat-box.big{ scrollbar-width: thin; scrollbar-color: rgba(14,47,68,.35) transparent; }
.chat-box.big::-webkit-scrollbar{ width: 10px; }
.chat-box.big::-webkit-scrollbar-thumb{ background: rgba(14,47,68,.35); border-radius: 10px; }
.chat-box.big::-webkit-scrollbar-track{ background: transparent; }

/* --------------------
   Selects
   -------------------- */
select{padding:12px 14px; border-radius:12px; border:1px solid var(--border); background:#fff; color:var(--text)}
select option{color:#0E2F44; background:#fff}

/* --------------------
   Tracking
   -------------------- */
/* Limpieza: tracking clásico eliminado, ahora se usa SVG inline en app.js */

/* --------------------
   Bottom navigation
   -------------------- */
.bottombar{
  position:fixed; left:0; right:0; bottom:0; display:none; justify-content:space-around; gap:10px;
  padding:12px; padding-bottom: calc(12px + var(--safe-bottom));
  border-top:1px solid var(--border); background:rgba(255,255,255,.9); backdrop-filter:blur(12px);
  box-shadow: 0 -8px 24px rgba(14,47,68,.08);
  z-index:1000;
}
.bottombar.visible{display:flex}
.tab{background:transparent; border:none; font-size:22px; color:var(--primary); padding:10px 16px; border-radius:12px; cursor:pointer; font-weight:700; transition: background .15s ease, transform .12s ease}
.tab:hover{ background:#f0f6f7; transform: translateY(-1px) }
.tab.active{background: linear-gradient(180deg, #ffffff, #ffe6c2); box-shadow: inset 0 1px 0 rgba(255,255,255,.7), 0 8px 16px rgba(14,47,68,.08)}

/* --------------------
   Responsivo
   -------------------- */
@media (max-width: 860px){
  .chat-wrapper{grid-template-columns:1fr}
  .chat-sidebar{height:280px}
}

#tracking-search{max-width:220px}
#tracking-list .row .btn{padding:8px 12px}

/* Tracking list tweaks */
#tracking-list li{padding:14px}
#tracking-list li .row:first-child{margin-bottom:6px}


/* limpieza: selector suelto 'hero' eliminado */

.view[data-route="home"] .cards { margin-top: 20px; }

.cards .card { display:flex; flex-direction:column; }

.cards .card .btn-ghost { align-self:flex-end; background: var(--accent); color:#fff; }
.cards .card .btn-ghost:hover { filter: brightness(1.05); }
/* Badge dentro de la tarjeta */
.card-badge{ position:absolute; top:12px; right:12px; }

/* Hace toda la tarjeta clickeable sin interferir con el botón interno */
.cards .card[data-nav]::after{
  content: ""; position:absolute; inset:0; border-radius: var(--radius-lg);
}
.cards .card[data-nav] .btn-ghost{ position: relative; z-index: 1; }

@media (max-width: 720px){
  #view-container{ padding: 12px; padding-bottom: 96px; }
  .cards{ grid-template-columns: 1fr 1fr; gap: 12px; }
  .card{ padding: 12px; border-radius: 16px; }
  .card h3{ font-size: 1rem; }
  .card .card-desc{ font-size: .9rem; }
  .btn{ padding: 10px 12px; border-radius: 12px; }
  .btn-primary{ box-shadow: 0 8px 16px rgba(243,146,0,.22); }
  .bottombar{ padding: 10px; }
  .tab{ font-size: 20px; }
}

@media (max-width: 420px){
  .cards{ grid-template-columns: 1fr; gap: 10px; }
  .card{ padding: 12px; }
  .card .btn-ghost{ width: 100%; align-self: stretch; text-align: center; }
}

/* Header full-width con contenedor interno */
.topbar{
  position: sticky;  /* queda pegado arriba al hacer scroll */
  top: 0;
  z-index: 1000;
  width: 100%;
  background: #fff;
  border-bottom: 1px solid var(--border);
  box-shadow: 0 4px 18px rgba(14,47,68,.06);
  padding-top: var(--safe-top);
}
.topbar-inner{
  max-width: 1200px;   /* podés usar 980px si preferís */
  margin: 0 auto;
  padding: 16px 20px;
  display:flex; align-items:center; justify-content:space-between;
}

/* Ajustes responsivos */
@media (max-width: 600px){
  .topbar-inner{ padding: 12px 14px; }
  .brand{ gap: 10px; }
  .app-name{ font-size: 22px; }
  .tagline{ font-size: 11px; }
  .user-badge{ font-size: 13px; }
}

/* Como el header ya no está dentro de #app, mantenemos padding dinámico para la barra inferior */
#view-container{ padding-top: 18px; padding-bottom: calc(var(--bbar-h) + 98px + var(--safe-bottom)); }

/* --------------------
   Publicar carga mejorado
   -------------------- */
.publish-box {
  max-width: 420px;
  margin: 38px auto 0 auto;
  background: var(--card);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  padding: 32px 28px 28px 28px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 18px;
}
.publish-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--primary);
  margin-bottom: 8px;
  text-align: center;
}
.publish-form {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 14px;
}
.publish-form label {
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 500;
}
.publish-form label span {
  font-size: 1.2em;
  margin-right: 2px;
}
.publish-btn {
  width: 100%;
  margin-top: 10px;
  font-size: 1.1rem;
  padding: 14px 0;
}
.publish-preview {
  background: #f6fbfa;
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 12px 16px;
  margin: 8px 0 0 0;
  color: var(--text);
  font-size: 1rem;
  box-shadow: var(--shadow-sm);
  display: none;
}
@media (max-width: 600px) {
  .publish-box {
    max-width: 98vw;
    padding: 18px 6px 14px 6px;
  }
  .publish-title { font-size: 1.1rem; }
  .bottombar{ padding: 10px; padding-bottom: calc(10px + var(--safe-bottom)); }
  .tab{ font-size: 22px; padding: 12px 16px; }
  .card-badge{ top:8px; right:8px; }
}
/* --------------------
   Login mejorado y header alineado
   -------------------- */
.login-box {
  max-width: 370px;
  margin: 48px auto 0 auto;
  background: var(--card);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  padding: 38px 32px 32px 32px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 18px;
}
.login-avatar {
  width: 72px;
  height: 72px;
  border-radius: 50%;
  background: #eaf1f6;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 12px rgba(58,175,169,.10);
  margin-bottom: 8px;
}
.login-avatar img {
  width: 54px;
  height: 54px;
  object-fit: contain;
  border-radius: 50%;
}
.login-title {
  font-size: 1.7rem;
  font-weight: 700;
  color: var(--primary);
  margin: 0;
  text-align: center;
}
.login-desc {
  color: var(--muted);
  font-size: 1rem;
  text-align: center;
  margin-bottom: 10px;
}
.login-form {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 14px;
}
.login-btn {
  width: 100%;
  margin-top: 10px;
  font-size: 1.1rem;
  padding: 14px 0;
}
.brand-left {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-left: 0;
}
.topbar-actions {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-right: 0;
}
.btn-logout {
  font-size: 15px;
  padding: 8px 16px;
}
@media (max-width: 600px) {
  .login-box {
    max-width: 98vw;
    padding: 22px 8px 18px 8px;
  }
  .login-title {
    font-size: 1.2rem;
  }
  .topbar-inner {
    padding: 8px 4px;
  }
  .brand-left {
    gap: 8px;
  }
  .topbar-actions {
    gap: 6px;
  }
  .logo {
    width: 32px;
    height: 32px;
  }
}

/* Microanimación para badge cuando cambia el conteo */
.pulse-badge { animation: pulse-badge .6s ease-out; }
@keyframes pulse-badge {
  0% { transform: scale(1); filter: brightness(1); }
  30% { transform: scale(1.12); filter: brightness(1.05); }
  60% { transform: scale(0.98); }
  100% { transform: scale(1); filter: brightness(1); }
}